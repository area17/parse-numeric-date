import parseNumericDate from '../src/index';

const tests = [
  ['2022-02-10', '2022-02-10'],
  ['2022.02.10', '2022-02-10'],
  ['2022/02/10', '2022-02-10'],
  ['10 02 2022', '2022-02-10'],
  ['1 12 2022', '2022-12-01'],
  ['2022-2-10', '2022-02-10'],
  ['2022-2-2', '2022-02-02'],
  ['122922', '2022-12-29'],
  ['291222', '2022-12-29'],
  ['29122022', '2022-12-29'],
  ['12292022', '2022-12-29'],
  ['010122', '2022-01-01'],
  ['220210', '2022-02-10'],
  ['12/29/22', '2022-12-29'],
  ['2010-02-01', '2010-02-01'],
  ['01-01-2022', '2022-01-01'],
  ['01-01-22', '2022-01-01'],
  ['1-1-22', '2022-01-01'],
  ['1-10-2022', '2022-10-01'],
  ['1-10-22', '2022-10-01'],
  ['122982', '1982-12-29'],
  ['291282', '1982-12-29'],
  ['29121982', '1982-12-29'],
  ['12291982', '1982-12-29'],
  ['010182', '1982-01-01'],
  ['9382', '1982-03-09'],
  ['931982', '1982-03-09'],
  ['090382', '1982-03-09'],
  ['09031982', '1982-03-09'],
  ['2023-02-10', '2023-02-10'],
  ['2023.02.10', '2023-02-10'],
  ['2023/02/10', '2023-02-10'],
  ['10 02 2023', '2023-02-10'],
  ['1 12 2023', '2023-12-01'],
  ['2023-2-10', '2023-02-10'],
  ['2023-2-2', '2023-02-02'],
  ['122923', '2023-12-29'],
  ['291223', '2023-12-29'],
  ['29122023', '2023-12-29'],
  ['12292023', '2023-12-29'],
  ['010123', '2023-01-01'],
  ['230210', '2023-02-10'],
  ['12/29/23', '2023-12-29'],
  ['2023-02-01', '2023-02-01'],
  ['01-01-2023', '2023-01-01'],
  ['01-01-23', '2023-01-01'],
  ['1-1-23', '2023-01-01'],
  ['1-10-2023', '2023-10-01'],
  ['1-10-23', '2023-10-01'],
  ['2024-02-10', '2024-02-10'],
  ['2024.02.10', '2024-02-10'],
  ['2024/02/10', '2024-02-10'],
  ['10 02 2024', '2024-02-10'],
  ['1 12 2024', '2024-12-01'],
  ['2024-2-10', '2024-02-10'],
  ['2024-2-2', '2024-02-02'],
  ['122924', '2024-12-29'],
  ['291224', '2024-12-29'],
  ['29122024', '2024-12-29'],
  ['12292024', '2024-12-29'],
  ['010124', '2024-01-01'],
  ['240210', '2024-02-10'],
  ['12/29/24', '2024-12-29'],
  ['2024-02-01', '2024-02-01'],
  ['01-01-2024', '2024-01-01'],
  ['01-01-24', '2024-01-01'],
  ['1-1-24', '2024-01-01'],
  ['1-10-2024', '2024-10-01'],
  ['1-10-24', '2024-10-01'],
  ['1884-02-10', '1884-02-10'],
  ['1884.02.10', '1884-02-10'],
  ['1884/02/10', '1884-02-10'],
  ['10 02 1884', '1884-02-10'],
  ['1 12 1884', '1884-12-01'],
  ['12 29 1884', '1884-12-29'],
  ['1884-2-10', '1884-02-10'],
  ['1884-2-2', '1884-02-02'],
  ['1884-02-01', '1884-02-01'],
  ['01-01-1884', '1884-01-01'],
  ['1-10-1884', '1884-10-01'],
];

const illogical = [
  ['0000-00-00', null],
  ['00000000', null],
  ['11', null],
  ['today', null],
  ['⛄️', null],
];

describe('parseNumericDate', () => {
    it('exists', () => {
        expect(typeof parseNumericDate).toBe('function');
    });

    it('it correctly transforms dates', () => {
        tests.forEach((test, index) => {
          const d = parseNumericDate(test[0]);
          const e = new Date(`${test[1]}T00:00:00.000+00:00`);
          expect(d).toEqual(e);
        });
    });

    it('it returns null for illogical input', () => {
        illogical.forEach((test, index) => {
          const d = parseNumericDate(test[0]);
          const e = test[1];
          expect(d).toEqual(e);
        });
    });
});
