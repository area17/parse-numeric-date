let s=(new Intl.NumberFormat).resolvedOptions().locale;const r=(new Date).setHours(0,0,0,0);new Date(r).getFullYear();const t=()=>{const r=new Date(2e3,11,13).toLocaleDateString(s);return[{name:"d",index:r.indexOf("13")},{name:"m",index:r.indexOf("12")},{name:"y",index:r.indexOf("2000")}].sort((s,r)=>s.index-r.index).map(s=>s.name).join("-")};let n=t();const u=s=>2===s.length?parseInt(s)>60?`19${s}`:`20${s}`:s,d=(s,r,t)=>{s=u(s),s=parseInt(s,10),r=parseInt(r,10),t=(t=parseInt(t,10))>((s,r)=>new Date(r,s,0).getDate())(r=r>12?null:r,s)?null:t,r=r<10?`0${r}`:r,t=t<10?`0${t}`:t;let n=new Date(`${s}-${r}-${t}T00:00:00.000+00:00`);return n instanceof Date&&!isNaN(n)?n:null},e=s=>{const t=(s=s.map(s=>(s.d=d(s.y,s.m,s.d),s.y=parseInt(u(s.y),10),s.diff=Math.abs(r-s.d),s.score=n===s.order?2:1,s.diff>315576e7&&s.score--,s.diff<631152e5&&s.score++,s)).filter(s=>null!==s.d).sort((s,r)=>r.score-s.score))[0].score;return(s=s.filter(s=>s.score===t).sort((s,r)=>s.diff-r.diff).map(s=>s.d)).length?s[0]:null},i=(r,u)=>{null!=u&&u.locale&&(s=u.locale,n=t());let i=[],g=[...(r=r.trim()).matchAll(/([0-9]{4})[^0-9]{1}([0-9]{1,2})[^0-9]{1}([0-9]{1,2})/g)];return g.length>0?d(g[0][1],g[0][2],g[0][3]):(g=[...r.matchAll(/([0-9]{1,2})[^0-9]{1}([0-9]{2})[^0-9]{1}([0-9]{4})/g)],g.length>0?(i.push({y:g[0][3],m:g[0][2],d:g[0][1],order:"d-m-y"}),i.push({y:g[0][3],m:g[0][1],d:g[0][2],order:"m-d-y"}),e(i)):(g=[...r.matchAll(/([0-9]{1,2})[^0-9]{1}([0-9]{1,2})[^0-9]{1}([0-9]{1,2})/g)],g.length>0?(i.push({y:g[0][3],m:g[0][2],d:g[0][1],order:"d-m-y"}),i.push({y:g[0][3],m:g[0][1],d:g[0][2],order:"m-d-y"}),i.push({y:g[0][1],m:g[0][2],d:g[0][3],order:"y-m-d"}),e(i)):(8===r.length&&(i.push({y:r.substring(4,8),m:r.substring(2,4),d:r.substring(0,2),order:"d-m-y"}),i.push({y:r.substring(4,8),m:r.substring(0,2),d:r.substring(2,4),order:"m-d-y"}),i.push({y:r.substring(0,4),m:r.substring(4,6),d:r.substring(6,8),order:"y-m-d"})),7===r.length&&(i.push({y:r.substring(0,4),m:r.substring(4,6),d:r.substring(6,7),order:"y-m-d"}),i.push({y:r.substring(0,4),m:r.substring(4,5),d:r.substring(5,7),order:"y-m-d"}),i.push({y:r.substring(3,7),m:r.substring(2,3),d:r.substring(0,2),order:"d-m-y"}),i.push({y:r.substring(3,7),m:r.substring(1,3),d:r.substring(0,1),order:"d-m-y"}),i.push({y:r.substring(3,7),m:r.substring(0,2),d:r.substring(2,3),order:"d-m-y"}),i.push({y:r.substring(3,7),m:r.substring(0,1),d:r.substring(2,3),order:"d-m-y"})),6===r.length&&(i.push({y:r.substring(4,6),m:r.substring(2,4),d:r.substring(0,2),order:"d-m-y"}),i.push({y:r.substring(4,6),m:r.substring(0,2),d:r.substring(2,4),order:"m-d-y"}),i.push({y:r.substring(0,2),m:r.substring(2,4),d:r.substring(4,6),order:"y-m-d"}),i.push({y:r.substring(2,6),m:r.substring(1,2),d:r.substring(0,1),order:"d-m-y"}),i.push({y:r.substring(2,6),m:r.substring(0,1),d:r.substring(1,2),order:"m-d-y"}),i.push({y:r.substring(0,4),m:r.substring(4,5),d:r.substring(5,6),order:"y-m-d"})),5===r.length&&(i.push({y:r.substring(0,2),m:r.substring(2,4),d:r.substring(4,5),order:"y-m-d"}),i.push({y:r.substring(0,2),m:r.substring(2,3),d:r.substring(3,5),order:"y-m-d"}),i.push({y:r.substring(3,5),m:r.substring(2,3),d:r.substring(0,2),order:"d-m-y"}),i.push({y:r.substring(3,5),m:r.substring(1,3),d:r.substring(0,1),order:"d-m-y"}),i.push({y:r.substring(3,5),m:r.substring(0,2),d:r.substring(2,3),order:"d-m-y"}),i.push({y:r.substring(3,5),m:r.substring(0,1),d:r.substring(2,3),order:"d-m-y"})),4===r.length&&(i.push({y:r.substring(2,4),m:r.substring(1,2),d:r.substring(0,1),order:"d-m-y"}),i.push({y:r.substring(2,4),m:r.substring(0,1),d:r.substring(1,2),order:"m-d-y"}),i.push({y:r.substring(0,2),m:r.substring(2,3),d:r.substring(3,4),order:"y-m-d"})),e(i))))};export{i as default};
//# sourceMappingURL=parse-numeric-date.modern.js.map
