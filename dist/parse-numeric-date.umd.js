!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e||self).parseNumericDate=n()}(this,function(){var e=(new Intl.NumberFormat).resolvedOptions().locale,n=(new Date).setHours(0,0,0,0);new Date(n).getFullYear();var t=function(){var n=new Date(2e3,11,13).toLocaleDateString(e);return[{name:"d",index:n.indexOf("13")},{name:"m",index:n.indexOf("12")},{name:"y",index:n.indexOf("2000")}].sort(function(e,n){return e.index-n.index}).map(function(e){return e.name}).join("-")},r=t(),a=function(e){return 2===e.length?parseInt(e)>60?"19"+e:"20"+e:e},o=function(e,n,t){return e.substring(n.indexOf(t),n.indexOf(t)+(n.match(new RegExp(t,"g"))||[]).length)},i=function(e,n){return n.map(function(n){return function(e,n){var t=[{name:"d",index:n.indexOf("D")},{name:"m",index:n.indexOf("M")},{name:"y",index:n.indexOf("Y")}].sort(function(e,n){return e.index-n.index});return{y:o(e,n,"Y"),m:o(e,n,"M"),d:o(e,n,"D"),order:t.map(function(e){return e.name}).join("-")}}(e,n)})},Y=function(e,n,t){e=a(e),e=parseInt(e,10),n=parseInt(n,10),t=(t=parseInt(t,10))>function(e,n){return new Date(n,e,0).getDate()}(n=n>12?null:n,e)?null:t,n=n<10?"0"+n:n,t=t<10?"0"+t:t;var r=new Date(e+"-"+n+"-"+t+"T00:00:00.000+00:00");return r instanceof Date&&!isNaN(r)?r:null},u=function(e,t){var o=(e=e.map(function(e){return e.d=Y(e.y,e.m,e.d),e.y=parseInt(a(e.y),10),e.diff=Math.abs(n-e.d),e.score=r===e.order?2:1,e.diff>315576e7&&e.score--,e.diff<631152e5&&e.score++,e}).filter(function(e){return null!==e.d}).sort(function(e,n){return n.score-e.score})).length?e[0].score:0;return(e=e.filter(function(e){return e.score===o}).sort(function(e,n){return e.diff-n.diff}).map(function(e){return e.d})).length?e[0]:null};return function(n,a){null!=a&&a.locale&&(e=a.locale,r=t());var o=n;n=n.replace(/[۰-۹]/g,function(e){return"۰۱۲۳۴۵۶۷۸۹".indexOf(e)}).replace(/[٠-٩]/g,function(e){return"٠١٢٣٤٥٦٧٨٩".indexOf(e)}).trim();var l=[],d=[].concat(n.matchAll(/([0-9]{4})[^0-9]{1,}([0-9]{1,2})[^0-9]{1,}([0-9]{1,2})/g));return d.length>0?o.match(/[۰-۹]/g)?function(e,n,t){e=parseInt(e,10),n=parseInt(n,10),t=parseInt(t,10);var r=new Intl.DateTimeFormat("en-u-ca-persian",{dateStyle:"short",timeZone:"UTC"}),a=new Date(Date.UTC(2e3,n,t)),o=(a=new Date(a.setUTCDate(a.getUTCDate()+226867))).getUTCFullYear()-2e3+e;a=new Date((o<0?"-":"+")+("00000"+Math.abs(o)).slice(-6)+"-"+("0"+(a.getUTCMonth()+1)).slice(-2)+"-"+("0"+a.getUTCDate()).slice(-2));var i=[].concat(r.format(a).split("/")),Y=i[0],u=i[1],l=i[2],d=0;for(a=new Date(a.setUTCDate(a.getUTCDate()+Math.floor(365.25*e+30.44*n+t-(365.25*l.split(" ")[0]+30.44*Y+1*u))-2));d<4;){var f=[].concat(r.format(a).split("/"));if(Y=f[0],u=f[1],l=f[2],parseInt(u,10)===t&&parseInt(Y,10)===n&&parseInt(l.split(" ")[0],10)===e)return a;a=new Date(a.setUTCDate(a.getUTCDate()+1)),d++}throw console.log("Invalid Persian date"),new Error("Invalid Persian date")}(d[0][1],d[0][2],d[0][3]):Y(d[0][1],d[0][2],d[0][3]):(d=[].concat(n.matchAll(/([0-9]{1,2})[^0-9]{1,}([0-9]{2})[^0-9]{1,}([0-9]{4})/g))).length>0?(l.push({y:d[0][3],m:d[0][2],d:d[0][1],order:"d-m-y"}),l.push({y:d[0][3],m:d[0][1],d:d[0][2],order:"m-d-y"}),u(l)):(d=[].concat(n.matchAll(/([0-9]{1,2})[^0-9]{1,}([0-9]{1,2})[^0-9]{1,}([0-9]{1,2})/g))).length>0?(l.push({y:d[0][3],m:d[0][2],d:d[0][1],order:"d-m-y"}),l.push({y:d[0][3],m:d[0][1],d:d[0][2],order:"m-d-y"}),l.push({y:d[0][1],m:d[0][2],d:d[0][3],order:"y-m-d"}),u(l)):(8===n.length&&(l=i(n,["YYYYMMDD","DDMMYYYY","MMDDYYYY"])),7===n.length&&(l=i(n,["YYYYMMD","YYYYMDD","DDMYYYY","MDDYYYY","DMMYYYY","MMDYYYY"])),6===n.length&&(l=i(n,["YYMMDD","DDMMYY","MMDDYY","YYYYMD","DMYYYY","MDYYYY"])),5===n.length&&(l=i(n,["YYMMD","YYMDD","DDMYY","MDDYY","DMMYY","MMDYY"])),4===n.length&&(l=i(n,["YYMD","DMYY","MDYY"])),u(l))}});
//# sourceMappingURL=parse-numeric-date.umd.js.map
